<!doctype html>
<html lang="tr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Paslios - Ayarlar">
    <link href="output.css" rel="stylesheet">`n    <link href="css/responsive.css" rel="stylesheet">
    <title>Paslios - Ayarlar</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: #f9fafb;
        min-height: 100vh;
        max-width: 400px;
        margin: 0 auto;
        width: 100%;
        padding-bottom: 80px;
      }
      
      .header {
        background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
        padding: 3rem 1rem 2rem 1rem;
        width: 100vw;
        margin-left: calc(-50vw + 50%);
      }
      
      .header-container {
        max-width: 400px;
        margin: 0 auto;
        width: 100%;
      }
      
      .nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
      }
      
      .back-btn {
        width: 2.5rem;
        height: 2.5rem;
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        transition: all 0.2s;
      }
      
      .back-btn:hover {
        background: rgba(255, 255, 255, 0.3);
      }
      
      .nav-center h1 {
        color: white;
        font-size: 1.25rem;
        font-weight: bold;
        text-align: center;
      }
      
      .nav-right {
        width: 2.5rem;
      }
      
      .main-content {
        flex: 1;
        max-width: 400px;
        margin: 0 auto;
        width: 100%;
        padding: 1.5rem 1rem;
      }
      
      .section {
        margin-bottom: 2rem;
      }
      
      .section-title {
        color: #1f2937;
        font-size: 1.125rem;
        font-weight: bold;
        margin-bottom: 1rem;
      }
      
      .menu-item {
        background: white;
        border-radius: 12px;
        padding: 1rem;
        margin-bottom: 0.5rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        border: 1px solid #f3f4f6;
        display: flex;
        align-items: center;
        justify-content: space-between;
        text-decoration: none;
        color: inherit;
        transition: all 0.2s;
      }
      
      .menu-item:hover {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transform: translateY(-1px);
      }
      
      .menu-item-left {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }
      
      .menu-icon {
        width: 2rem;
        height: 2rem;
        background: #f3f4f6;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
      }
      
      .menu-text {
        color: #1f2937;
        font-weight: 500;
      }
      
      .menu-description {
        color: #6b7280;
        font-size: 0.875rem;
        margin-top: 0.125rem;
      }
      
      .menu-arrow {
        color: #9ca3af;
        font-size: 1rem;
      }
      
      .toggle-switch {
        width: 3rem;
        height: 1.5rem;
        background: #e5e7eb;
        border-radius: 12px;
        position: relative;
        cursor: pointer;
        transition: all 0.2s;
      }
      
      .toggle-switch.active {
        background: #3b82f6;
      }
      
      .toggle-knob {
        width: 1.25rem;
        height: 1.25rem;
        background: white;
        border-radius: 50%;
        position: absolute;
        top: 0.125rem;
        left: 0.125rem;
        transition: all 0.2s;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      
      .toggle-switch.active .toggle-knob {
        left: 1.625rem;
      }
      
      .danger-item {
        color: #dc2626;
      }
      
      .danger-item .menu-icon {
        background: #fee2e2;
        color: #dc2626;
      }
      
      .version-info {
        text-align: center;
        color: #6b7280;
        font-size: 0.875rem;
        margin-top: 2rem;
        padding: 1rem;
      }
      
      .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: white;
        border-top: 1px solid #f3f4f6;
        padding: 1rem;
        box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.05);
        z-index: 1000;
      }
      
      body {
        padding-bottom: 80px;
      }
      
      .nav-items {
        display: flex;
        justify-content: space-around;
        max-width: 400px;
        margin: 0 auto;
      }
      
      .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-decoration: none;
        transition: all 0.2s;
      }
      
      .nav-item.active {
        color: #3b82f6;
      }
      
      .nav-item:not(.active) {
        color: #6b7280;
      }
      
      .nav-item:hover {
        color: #3b82f6;
      }
      
      .nav-item span:first-child {
        font-size: 1.25rem;
        margin-bottom: 0.25rem;
      }
      
      .nav-item span:last-child {
        font-size: 0.75rem;
        font-weight: 500;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <div class="header">
      <div class="header-container">
        <!-- Navigation -->
        <div class="nav">
          <a href="/profile" class="back-btn">
            <span style="color: white; font-size: 1.125rem;">‚Üê</span>
          </a>
          <div class="nav-center">
            <h1>Ayarlar</h1>
          </div>
          <div class="nav-right"></div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Hesap Section -->
      <div class="section">
        <h2 class="section-title">Hesap</h2>
        
        <a href="/edit-profile" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">‚úèÔ∏è</div>
            <div>
              <div class="menu-text">Profili D√ºzenle</div>
              <div class="menu-description">Ad, fotoƒüraf ve bilgilerinizi d√ºzenleyin</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>

        <a href="/change-password" class="menu-item" onclick="changePassword(); return false;">
          <div class="menu-item-left">
            <div class="menu-icon">üîí</div>
            <div>
              <div class="menu-text">≈ûifre Deƒüi≈ütir</div>
              <div class="menu-description">Hesap g√ºvenliƒüinizi g√ºncelleyin</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>

        <a href="/change-email" class="menu-item" onclick="changeEmail(); return false;">
          <div class="menu-item-left">
            <div class="menu-icon">üìß</div>
            <div>
              <div class="menu-text">Email Deƒüi≈ütir</div>
              <div class="menu-description">Giri≈ü email adresinizi g√ºncelleyin</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>
      </div>

      <!-- Bildirimler Section -->
      <div class="section">
        <h2 class="section-title">Bildirimler</h2>
        
        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">üîî</div>
            <div>
              <div class="menu-text">Push Bildirimleri</div>
              <div class="menu-description">Anlƒ±k bildirimler alƒ±n</div>
            </div>
          </div>
          <div class="toggle-switch active" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>

        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">‚öΩ</div>
            <div>
              <div class="menu-text">Ma√ß Davetleri</div>
              <div class="menu-description">Ma√ß davet bildirimlerini alƒ±n</div>
            </div>
          </div>
          <div class="toggle-switch active" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>

        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">üìä</div>
            <div>
              <div class="menu-text">Haftalƒ±k √ñzet</div>
              <div class="menu-description">Performans √∂zetlerinizi alƒ±n</div>
            </div>
          </div>
          <div class="toggle-switch" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>

        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">üì±</div>
            <div>
              <div class="menu-text">SMS Bildirimleri</div>
              <div class="menu-description">√ñnemli g√ºncellemeler i√ßin SMS</div>
            </div>
          </div>
          <div class="toggle-switch" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>
      </div>

      <!-- Gizlilik Section -->
      <div class="section">
        <h2 class="section-title">Gizlilik</h2>
        
        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">üîí</div>
            <div>
              <div class="menu-text">Profil Gizliliƒüi</div>
              <div class="menu-description">Profilinizi herkese a√ßƒ±k yapƒ±n</div>
            </div>
          </div>
          <div class="toggle-switch active" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>

        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">üìç</div>
            <div>
              <div class="menu-text">Konum Payla≈üƒ±mƒ±</div>
              <div class="menu-description">Konumunuzu arkada≈ülarla payla≈üƒ±n</div>
            </div>
          </div>
          <div class="toggle-switch active" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>

        <a href="/blocked-users" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">üõ°Ô∏è</div>
            <div>
              <div class="menu-text">Engellenen Kullanƒ±cƒ±lar</div>
              <div class="menu-description">Engelleme listesini y√∂netin</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>
      </div>

      <!-- Uygulama Section -->
      <div class="section">
        <h2 class="section-title">Uygulama</h2>
        
        <a href="/theme-settings" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">üåô</div>
            <div>
              <div class="menu-text">Tema</div>
              <div class="menu-description">A√ßƒ±k/Koyu mod se√ßin</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>

        <a href="/language-settings" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">üåç</div>
            <div>
              <div class="menu-text">Dil</div>
              <div class="menu-description">T√ºrk√ße</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>

        <a href="#" class="menu-item" onclick="clearCache()">
          <div class="menu-item-left">
            <div class="menu-icon">üíæ</div>
            <div>
              <div class="menu-text">√ñnbellek Temizle</div>
              <div class="menu-description">Uygulama verilerini temizleyin</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>
      </div>

      <!-- Destek Section -->
      <div class="section">
        <h2 class="section-title">Destek</h2>
        
        <a href="/help-center" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">‚ùì</div>
            <div>
              <div class="menu-text">Yardƒ±m Merkezi</div>
              <div class="menu-description">SSS ve rehberler</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>

        <a href="/contact" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">üìû</div>
            <div>
              <div class="menu-text">ƒ∞leti≈üim</div>
              <div class="menu-description">Bizimle ileti≈üime ge√ßin</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>

        <a href="/report-bug" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">üêõ</div>
            <div>
              <div class="menu-text">Hata Bildir</div>
              <div class="menu-description">Kar≈üƒ±la≈ütƒ±ƒüƒ±nƒ±z sorunlarƒ± bildirin</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>

        <a href="#" class="menu-item" onclick="rateApp()">
          <div class="menu-item-left">
            <div class="menu-icon">‚≠ê</div>
            <div>
              <div class="menu-text">Uygulamayƒ± Deƒüerlendir</div>
              <div class="menu-description">App Store'da puan verin</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>
      </div>

      <!-- Tehlikeli ƒ∞≈ülemler -->
      <div class="section">
        <a href="/index" class="menu-item danger-item" onclick="return confirmLogout()">
          <div class="menu-item-left">
            <div class="menu-icon">üö™</div>
            <div>
              <div class="menu-text">√áƒ±kƒ±≈ü Yap</div>
              <div class="menu-description">Hesabƒ±nƒ±zdan √ßƒ±kƒ±≈ü yapƒ±n</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>

        <a href="#" class="menu-item danger-item" onclick="deleteAccount()">
          <div class="menu-item-left">
            <div class="menu-icon">üóëÔ∏è</div>
            <div>
              <div class="menu-text">Hesabƒ± Sil</div>
              <div class="menu-description">Hesabƒ±nƒ±zƒ± kalƒ±cƒ± olarak silin</div>
            </div>
          </div>
          <span class="menu-arrow">‚Üí</span>
        </a>
      </div>

      <!-- Version Info -->
      <div class="version-info">
        <p>Paslios v1.0.0</p>
        <p>¬© 2025 Paslios. T√ºm haklarƒ± saklƒ±dƒ±r.</p>
      </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
      <div class="nav-items">
        <a href="/home" class="nav-item">
          <span>üè†</span>
          <span>Ana Sayfa</span>
        </a>
        <a href="/matches" class="nav-item">
          <span>‚öΩ</span>
          <span>Ma√ßlar</span>
        </a>
        <a href="/messages" class="nav-item">
          <span>üíå</span>
          <span>Mesajlar</span>
        </a>
        <a href="/profile" class="nav-item active">
          <span>üë§</span>
          <span>Profil</span>
        </a>
      </div>
    </div>

    <script>
      function toggleSwitch(element) {
        element.classList.toggle('active');
        
        // Ayarƒ± kaydet
        const menuItem = element.closest('.menu-item');
        const settingName = menuItem.querySelector('.menu-text').textContent;
        const isActive = element.classList.contains('active');
        
        // Ayarlarƒ± data management sistemine kaydet
        const settings = PasliosData.getData('settings') || {
          notifications: {},
          privacy: {}
        };
        
        switch(settingName) {
          case 'Push Bildirimleri':
            settings.notifications.push = isActive;
            break;
          case 'Ma√ß Davetleri':
            settings.notifications.matchInvites = isActive;
            break;
          case 'Haftalƒ±k √ñzet':
            settings.notifications.weeklyReport = isActive;
            break;
          case 'Takƒ±m G√ºncellemeleri':
            settings.notifications.teamUpdates = isActive;
            break;
          case 'Profil G√∂r√ºn√ºrl√ºƒü√º':
            settings.privacy.profileVisible = isActive;
            break;
          case 'ƒ∞leti≈üim Bilgileri':
            settings.privacy.contactVisible = isActive;
            break;
        }
        
        PasliosData.setData('settings', settings);
        
        // Toast bildirimi
        const statusText = isActive ? 'a√ßƒ±ldƒ±' : 'kapatƒ±ldƒ±';
        showToast(`${settingName} ${statusText}`, 'info');
      }

      function changePassword() {
        const currentPassword = prompt('Mevcut ≈üifrenizi girin:');
        if (!currentPassword) return;
        
        const newPassword = prompt('Yeni ≈üifrenizi girin:');
        if (!newPassword) return;
        
        const confirmPassword = prompt('Yeni ≈üifrenizi tekrar girin:');
        if (newPassword !== confirmPassword) {
          alert('≈ûifreler e≈üle≈ümiyor!');
          return;
        }
        
        if (newPassword.length < 6) {
          alert('≈ûifre en az 6 karakter olmalƒ±!');
          return;
        }
        
        alert('≈ûifreniz ba≈üarƒ±yla deƒüi≈ütirildi! üîí');
      }

      function changeEmail() {
        const newEmail = prompt('Yeni email adresinizi girin:');
        if (!newEmail) return;
        
        if (!newEmail.includes('@')) {
          alert('Ge√ßerli bir email adresi girin!');
          return;
        }
        
        // localStorage'dan ger√ßek kullanƒ±cƒ± verilerini oku
        const currentUserData = localStorage.getItem('currentUser');
        const currentUser = currentUserData ? JSON.parse(currentUserData) : null;
        if (currentUser) {
          // Yeni email'i localStorage'da g√ºncelle
          currentUser.email = newEmail;
          localStorage.setItem('currentUser', JSON.stringify(currentUser));
          alert('Email adresiniz ba≈üarƒ±yla deƒüi≈ütirildi! üìß');
        }
      }

      function clearCache() {
        if (confirm('√ñnbellek temizlensin mi?\n\nBu i≈ülem uygulamayƒ± yeniden ba≈ülatabilir.')) {
          // Cache temizleme sim√ºlasyonu
          localStorage.removeItem('Paslios_cache');
          alert('√ñnbellek ba≈üarƒ±yla temizlendi! üßπ\n\nUygulama performansƒ± artƒ±rƒ±ldƒ±.');
        }
      }

      function rateApp() {
        if (confirm('App Store\'a y√∂nlendirilsiniz.\n\nDevam etmek istiyor musunuz?')) {
          alert('App Store\'a y√∂nlendiriliyorsunuz... ‚≠ê\n\nTe≈üekk√ºrler!');
          // Real app: window.open('https://apps.apple.com/app/Paslios', '_blank');
        }
      }

      function confirmLogout() {
        if (confirm('√áƒ±kƒ±≈ü yapmak istediƒüinize emin misiniz?\n\nTekrar giri≈ü yapmanƒ±z gerekecek.')) {
          PasliosData.logout();
          return true;
        }
        return false;
      }

      function deleteAccount() {
        const confirmation = prompt('Hesabƒ±nƒ±zƒ± silmek i√ßin "SIL" yazƒ±n:\n\n‚ö†Ô∏è BU ƒ∞≈ûLEM GERƒ∞ ALINAMAZ!');
        
        if (confirmation === 'SIL') {
          if (confirm('Son kez soruyoruz:\n\nHesabƒ±nƒ±zƒ± kalƒ±cƒ± olarak silmek istediƒüinize emin misiniz?\n\n‚Ä¢ T√ºm verileriniz silinecek\n‚Ä¢ G√∂nderileriniz kaldƒ±rƒ±lacak\n‚Ä¢ Bu i≈ülem geri alƒ±namaz')) {
            // localStorage'dan kullanƒ±cƒ± verilerini sil
            localStorage.removeItem('currentUser');
            
            alert('Hesabƒ±nƒ±z ba≈üarƒ±yla silindi. G√ºle g√ºle! üëã');
            window.location.href = 'index.html';
            alert('Hesabƒ±nƒ±z silme i≈ülemi ba≈ülatƒ±ldƒ±.\n\n24 saat i√ßinde t√ºm verileriniz kalƒ±cƒ± olarak silinecek.\n\nGoodbye... üëã');
            window.location.href = 'index.html';
          }
        } else if (confirmation !== null) {
          alert('Yanlƒ±≈ü metin girdiniz. Hesap silme i≈ülemi iptal edildi.');
        }
      }

      // Sayfa y√ºklendiƒüinde ayarlarƒ± y√ºkle
      document.addEventListener('DOMContentLoaded', function() {
        if (!PasliosData.isLoggedIn()) {
          window.location.href = 'index.html';
          return;
        }
        
        loadSettings();
      });

      function loadSettings() {
        const settings = PasliosData.getData('settings');
        if (!settings) return;
        
        // Toggle switch'leri ayarla
        const toggles = document.querySelectorAll('.toggle-switch');
        toggles.forEach(toggle => {
          const menuItem = toggle.closest('.menu-item');
          const settingName = menuItem.querySelector('.menu-text').textContent;
          let isActive = false;
          
          switch(settingName) {
            case 'Push Bildirimleri':
              isActive = settings.notifications?.push || false;
              break;
            case 'Ma√ß Davetleri':
              isActive = settings.notifications?.matchInvites || false;
              break;
            case 'Haftalƒ±k √ñzet':
              isActive = settings.notifications?.weeklyReport || false;
              break;
            case 'Takƒ±m G√ºncellemeleri':
              isActive = settings.notifications?.teamUpdates || false;
              break;
            case 'Profil G√∂r√ºn√ºrl√ºƒü√º':
              isActive = settings.privacy?.profileVisible || false;
              break;
            case 'ƒ∞leti≈üim Bilgileri':
              isActive = settings.privacy?.contactVisible || false;
              break;
          }
          
          if (isActive) {
            toggle.classList.add('active');
          } else {
            toggle.classList.remove('active');
          }
        });
      }

      // Toast g√∂sterme fonksiyonu
      function showToast(message, type = 'info') {
        // Basit toast implementasyonu
        const toast = document.createElement('div');
        toast.textContent = message;
        toast.style.cssText = `
          position: fixed;
          top: 20px;
          left: 50%;
          transform: translateX(-50%);
          background: ${type === 'info' ? '#10b981' : '#ef4444'};
          color: white;
          padding: 10px 20px;
          border-radius: 8px;
          z-index: 10000;
          max-width: 350px;
          text-align: center;
        `;
        document.body.appendChild(toast);
        
        setTimeout(() => {
          toast.remove();
        }, 3000);
      }
    </script>

    <!-- Data Management Script -->
    <script src="js/data.js"></script>
    </script>
  </body>
</html>
