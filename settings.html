<!doctype html>
<html lang="tr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Paslios - Ayarlar">
    <link href="output.css" rel="stylesheet">`n    <link href="css/responsive.css" rel="stylesheet">
    <title>Paslios - Ayarlar</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: #f9fafb;
        min-height: 100vh;
        max-width: 400px;
        margin: 0 auto;
        width: 100%;
        padding-bottom: 80px;
      }
      
      .header {
        background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
        padding: 3rem 1rem 2rem 1rem;
        width: 100vw;
        margin-left: calc(-50vw + 50%);
      }
      
      .header-container {
        max-width: 400px;
        margin: 0 auto;
        width: 100%;
      }
      
      .nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
      }
      
      .back-btn {
        width: 2.5rem;
        height: 2.5rem;
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        transition: all 0.2s;
      }
      
      .back-btn:hover {
        background: rgba(255, 255, 255, 0.3);
      }
      
      .nav-center h1 {
        color: white;
        font-size: 1.25rem;
        font-weight: bold;
        text-align: center;
      }
      
      .nav-right {
        width: 2.5rem;
      }
      
      .main-content {
        flex: 1;
        max-width: 400px;
        margin: 0 auto;
        width: 100%;
        padding: 1.5rem 1rem;
      }
      
      .section {
        margin-bottom: 2rem;
      }
      
      .section-title {
        color: #1f2937;
        font-size: 1.125rem;
        font-weight: bold;
        margin-bottom: 1rem;
      }
      
      .menu-item {
        background: white;
        border-radius: 12px;
        padding: 1rem;
        margin-bottom: 0.5rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        border: 1px solid #f3f4f6;
        display: flex;
        align-items: center;
        justify-content: space-between;
        text-decoration: none;
        color: inherit;
        transition: all 0.2s;
      }
      
      .menu-item:hover {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transform: translateY(-1px);
      }
      
      .menu-item-left {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }
      
      .menu-icon {
        width: 2rem;
        height: 2rem;
        background: #f3f4f6;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
      }
      
      .menu-text {
        color: #1f2937;
        font-weight: 500;
      }
      
      .menu-description {
        color: #6b7280;
        font-size: 0.875rem;
        margin-top: 0.125rem;
      }
      
      .menu-arrow {
        color: #9ca3af;
        font-size: 1rem;
      }
      
      .toggle-switch {
        width: 3rem;
        height: 1.5rem;
        background: #e5e7eb;
        border-radius: 12px;
        position: relative;
        cursor: pointer;
        transition: all 0.2s;
      }
      
      .toggle-switch.active {
        background: #3b82f6;
      }
      
      .toggle-knob {
        width: 1.25rem;
        height: 1.25rem;
        background: white;
        border-radius: 50%;
        position: absolute;
        top: 0.125rem;
        left: 0.125rem;
        transition: all 0.2s;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      
      .toggle-switch.active .toggle-knob {
        left: 1.625rem;
      }
      
      .danger-item {
        color: #dc2626;
      }
      
      .danger-item .menu-icon {
        background: #fee2e2;
        color: #dc2626;
      }
      
      .version-info {
        text-align: center;
        color: #6b7280;
        font-size: 0.875rem;
        margin-top: 2rem;
        padding: 1rem;
      }
      
      .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: white;
        border-top: 1px solid #f3f4f6;
        padding: 1rem;
        box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.05);
        z-index: 1000;
      }
      
      body {
        padding-bottom: 80px;
      }
      
      .nav-items {
        display: flex;
        justify-content: space-around;
        max-width: 400px;
        margin: 0 auto;
      }
      
      .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-decoration: none;
        transition: all 0.2s;
      }
      
      .nav-item.active {
        color: #3b82f6;
      }
      
      .nav-item:not(.active) {
        color: #6b7280;
      }
      
      .nav-item:hover {
        color: #3b82f6;
      }
      
      .nav-item span:first-child {
        font-size: 1.25rem;
        margin-bottom: 0.25rem;
      }
      
      .nav-item span:last-child {
        font-size: 0.75rem;
        font-weight: 500;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <div class="header">
      <div class="header-container">
        <!-- Navigation -->
        <div class="nav">
          <a href="/profile" class="back-btn">
            <span style="color: white; font-size: 1.125rem;">â†</span>
          </a>
          <div class="nav-center">
            <h1>Ayarlar</h1>
          </div>
          <div class="nav-right"></div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Hesap Section -->
      <div class="section">
        <h2 class="section-title">Hesap</h2>
        
        <a href="/edit-profile" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">âœï¸</div>
            <div>
              <div class="menu-text">Profili DÃ¼zenle</div>
              <div class="menu-description">Ad, fotoÄŸraf ve bilgilerinizi dÃ¼zenleyin</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>

        <a href="/change-password" class="menu-item" onclick="changePassword(); return false;">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ”’</div>
            <div>
              <div class="menu-text">Åifre DeÄŸiÅŸtir</div>
              <div class="menu-description">Hesap gÃ¼venliÄŸinizi gÃ¼ncelleyin</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>

        <a href="/change-email" class="menu-item" onclick="changeEmail(); return false;">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ“§</div>
            <div>
              <div class="menu-text">Email DeÄŸiÅŸtir</div>
              <div class="menu-description">GiriÅŸ email adresinizi gÃ¼ncelleyin</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>
      </div>

      <!-- Bildirimler Section -->
      <div class="section">
        <h2 class="section-title">Bildirimler</h2>
        
        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ””</div>
            <div>
              <div class="menu-text">Push Bildirimleri</div>
              <div class="menu-description">AnlÄ±k bildirimler alÄ±n</div>
            </div>
          </div>
          <div class="toggle-switch active" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>

        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">âš½</div>
            <div>
              <div class="menu-text">MaÃ§ Davetleri</div>
              <div class="menu-description">MaÃ§ davet bildirimlerini alÄ±n</div>
            </div>
          </div>
          <div class="toggle-switch active" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>

        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ“Š</div>
            <div>
              <div class="menu-text">HaftalÄ±k Ã–zet</div>
              <div class="menu-description">Performans Ã¶zetlerinizi alÄ±n</div>
            </div>
          </div>
          <div class="toggle-switch" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>

        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ“±</div>
            <div>
              <div class="menu-text">SMS Bildirimleri</div>
              <div class="menu-description">Ã–nemli gÃ¼ncellemeler iÃ§in SMS</div>
            </div>
          </div>
          <div class="toggle-switch" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>
      </div>

      <!-- Gizlilik Section -->
      <div class="section">
        <h2 class="section-title">Gizlilik</h2>
        
        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ”’</div>
            <div>
              <div class="menu-text">Profil GizliliÄŸi</div>
              <div class="menu-description">Profilinizi herkese aÃ§Ä±k yapÄ±n</div>
            </div>
          </div>
          <div class="toggle-switch active" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>

        <div class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ“</div>
            <div>
              <div class="menu-text">Konum PaylaÅŸÄ±mÄ±</div>
              <div class="menu-description">Konumunuzu arkadaÅŸlarla paylaÅŸÄ±n</div>
            </div>
          </div>
          <div class="toggle-switch active" onclick="toggleSwitch(this)">
            <div class="toggle-knob"></div>
          </div>
        </div>

        <a href="/blocked-users" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ›¡ï¸</div>
            <div>
              <div class="menu-text">Engellenen KullanÄ±cÄ±lar</div>
              <div class="menu-description">Engelleme listesini yÃ¶netin</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>
      </div>

      <!-- Uygulama Section -->
      <div class="section">
        <h2 class="section-title">Uygulama</h2>
        
        <a href="/theme-settings" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸŒ™</div>
            <div>
              <div class="menu-text">Tema</div>
              <div class="menu-description">AÃ§Ä±k/Koyu mod seÃ§in</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>

        <a href="/language-settings" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸŒ</div>
            <div>
              <div class="menu-text">Dil</div>
              <div class="menu-description">TÃ¼rkÃ§e</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>

        <a href="#" class="menu-item" onclick="clearCache()">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ’¾</div>
            <div>
              <div class="menu-text">Ã–nbellek Temizle</div>
              <div class="menu-description">Uygulama verilerini temizleyin</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>
      </div>

      <!-- Destek Section -->
      <div class="section">
        <h2 class="section-title">Destek</h2>
        
        <a href="/help-center" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">â“</div>
            <div>
              <div class="menu-text">YardÄ±m Merkezi</div>
              <div class="menu-description">SSS ve rehberler</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>

        <a href="/contact" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ“</div>
            <div>
              <div class="menu-text">Ä°letiÅŸim</div>
              <div class="menu-description">Bizimle iletiÅŸime geÃ§in</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>

        <a href="/report-bug" class="menu-item">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ›</div>
            <div>
              <div class="menu-text">Hata Bildir</div>
              <div class="menu-description">KarÅŸÄ±laÅŸtÄ±ÄŸÄ±nÄ±z sorunlarÄ± bildirin</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>

        <a href="#" class="menu-item" onclick="rateApp()">
          <div class="menu-item-left">
            <div class="menu-icon">â­</div>
            <div>
              <div class="menu-text">UygulamayÄ± DeÄŸerlendir</div>
              <div class="menu-description">App Store'da puan verin</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>
      </div>

      <!-- Tehlikeli Ä°ÅŸlemler -->
      <div class="section">
        <a href="/index" class="menu-item danger-item" onclick="return confirmLogout()">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸšª</div>
            <div>
              <div class="menu-text">Ã‡Ä±kÄ±ÅŸ Yap</div>
              <div class="menu-description">HesabÄ±nÄ±zdan Ã§Ä±kÄ±ÅŸ yapÄ±n</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>

        <a href="#" class="menu-item danger-item" onclick="deleteAccount()">
          <div class="menu-item-left">
            <div class="menu-icon">ğŸ—‘ï¸</div>
            <div>
              <div class="menu-text">HesabÄ± Sil</div>
              <div class="menu-description">HesabÄ±nÄ±zÄ± kalÄ±cÄ± olarak silin</div>
            </div>
          </div>
          <span class="menu-arrow">â†’</span>
        </a>
      </div>

      <!-- Version Info -->
      <div class="version-info">
        <p>Paslios v1.0.0</p>
        <p>Â© 2025 Paslios. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
      </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
      <div class="nav-items">
        <a href="/home" class="nav-item">
          <span>ğŸ </span>
          <span>Ana Sayfa</span>
        </a>
        <a href="/matches" class="nav-item">
          <span>âš½</span>
          <span>MaÃ§lar</span>
        </a>
        <a href="/messages" class="nav-item">
          <span>ğŸ’Œ</span>
          <span>Mesajlar</span>
        </a>
        <a href="/profile" class="nav-item active">
          <span>ğŸ‘¤</span>
          <span>Profil</span>
        </a>
      </div>
    </div>

    <script>
      function toggleSwitch(element) {
        element.classList.toggle('active');
        
        // AyarÄ± kaydet
        const menuItem = element.closest('.menu-item');
        const settingName = menuItem.querySelector('.menu-text').textContent;
        const isActive = element.classList.contains('active');
        
        // AyarlarÄ± data management sistemine kaydet
        const settings = PasliosData.getData('settings') || {
          notifications: {},
          privacy: {}
        };
        
        switch(settingName) {
          case 'Push Bildirimleri':
            settings.notifications.push = isActive;
            break;
          case 'MaÃ§ Davetleri':
            settings.notifications.matchInvites = isActive;
            break;
          case 'HaftalÄ±k Ã–zet':
            settings.notifications.weeklyReport = isActive;
            break;
          case 'TakÄ±m GÃ¼ncellemeleri':
            settings.notifications.teamUpdates = isActive;
            break;
          case 'Profil GÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼':
            settings.privacy.profileVisible = isActive;
            break;
          case 'Ä°letiÅŸim Bilgileri':
            settings.privacy.contactVisible = isActive;
            break;
        }
        
        PasliosData.setData('settings', settings);
        
        // Toast bildirimi
        const statusText = isActive ? 'aÃ§Ä±ldÄ±' : 'kapatÄ±ldÄ±';
        showToast(`${settingName} ${statusText}`, 'info');
      }

      function changePassword() {
        const currentPassword = prompt('Mevcut ÅŸifrenizi girin:');
        if (!currentPassword) return;
        
        const newPassword = prompt('Yeni ÅŸifrenizi girin:');
        if (!newPassword) return;
        
        const confirmPassword = prompt('Yeni ÅŸifrenizi tekrar girin:');
        if (newPassword !== confirmPassword) {
          alert('Åifreler eÅŸleÅŸmiyor!');
          return;
        }
        
        if (newPassword.length < 6) {
          alert('Åifre en az 6 karakter olmalÄ±!');
          return;
        }
        
        alert('Åifreniz baÅŸarÄ±yla deÄŸiÅŸtirildi! ğŸ”’');
      }

      function changeEmail() {
        const newEmail = prompt('Yeni email adresinizi girin:');
        if (!newEmail) return;
        
        if (!newEmail.includes('@')) {
          alert('GeÃ§erli bir email adresi girin!');
          return;
        }
        
        // localStorage'dan gerÃ§ek kullanÄ±cÄ± verilerini oku
        const currentUserData = localStorage.getItem('currentUser');
        const currentUser = currentUserData ? JSON.parse(currentUserData) : null;
        if (currentUser) {
          // Yeni email'i localStorage'da gÃ¼ncelle
          currentUser.email = newEmail;
          localStorage.setItem('currentUser', JSON.stringify(currentUser));
          alert('Email adresiniz baÅŸarÄ±yla deÄŸiÅŸtirildi! ğŸ“§');
        }
      }

      function clearCache() {
        if (confirm('Ã–nbellek temizlensin mi?\n\nBu iÅŸlem uygulamayÄ± yeniden baÅŸlatabilir.')) {
          // Cache temizleme simÃ¼lasyonu
          localStorage.removeItem('Paslios_cache');
          alert('Ã–nbellek baÅŸarÄ±yla temizlendi! ğŸ§¹\n\nUygulama performansÄ± artÄ±rÄ±ldÄ±.');
        }
      }

      function rateApp() {
        if (confirm('App Store\'a yÃ¶nlendirilsiniz.\n\nDevam etmek istiyor musunuz?')) {
          alert('App Store\'a yÃ¶nlendiriliyorsunuz... â­\n\nTeÅŸekkÃ¼rler!');
          // Real app: window.open('https://apps.apple.com/app/Paslios', '_blank');
        }
      }

      function confirmLogout() {
        if (confirm('Ã‡Ä±kÄ±ÅŸ yapmak istediÄŸinize emin misiniz?\n\nTekrar giriÅŸ yapmanÄ±z gerekecek.')) {
          PasliosData.logout();
          return true;
        }
        return false;
      }

      function deleteAccount() {
        const confirmation = prompt('HesabÄ±nÄ±zÄ± silmek iÃ§in "SIL" yazÄ±n:\n\nâš ï¸ BU Ä°ÅLEM GERÄ° ALINAMAZ!');
        
        if (confirmation === 'SIL') {
          if (confirm('Son kez soruyoruz:\n\nHesabÄ±nÄ±zÄ± kalÄ±cÄ± olarak silmek istediÄŸinize emin misiniz?\n\nâ€¢ TÃ¼m verileriniz silinecek\nâ€¢ GÃ¶nderileriniz kaldÄ±rÄ±lacak\nâ€¢ Bu iÅŸlem geri alÄ±namaz')) {
            // localStorage'dan kullanÄ±cÄ± verilerini sil
            localStorage.removeItem('currentUser');
            
            alert('HesabÄ±nÄ±z baÅŸarÄ±yla silindi. GÃ¼le gÃ¼le! ğŸ‘‹');
            window.location.href = 'index.html';
            alert('HesabÄ±nÄ±z silme iÅŸlemi baÅŸlatÄ±ldÄ±.\n\n24 saat iÃ§inde tÃ¼m verileriniz kalÄ±cÄ± olarak silinecek.\n\nGoodbye... ğŸ‘‹');
            window.location.href = 'index.html';
          }
        } else if (confirmation !== null) {
          alert('YanlÄ±ÅŸ metin girdiniz. Hesap silme iÅŸlemi iptal edildi.');
        }
      }

      // Sayfa yÃ¼klendiÄŸinde ayarlarÄ± yÃ¼kle
      document.addEventListener('DOMContentLoaded', function() {
        if (!PasliosData.isLoggedIn()) {
          window.location.href = 'index.html';
          return;
        }
        
        loadSettings();
      });

      function loadSettings() {
        const settings = PasliosData.getData('settings');
        if (!settings) return;
        
        // Toggle switch'leri ayarla
        const toggles = document.querySelectorAll('.toggle-switch');
        toggles.forEach(toggle => {
          const menuItem = toggle.closest('.menu-item');
          const settingName = menuItem.querySelector('.menu-text').textContent;
          let isActive = false;
          
          switch(settingName) {
            case 'Push Bildirimleri':
              isActive = settings.notifications?.push || false;
              break;
            case 'MaÃ§ Davetleri':
              isActive = settings.notifications?.matchInvites || false;
              break;
            case 'HaftalÄ±k Ã–zet':
              isActive = settings.notifications?.weeklyReport || false;
              break;
            case 'TakÄ±m GÃ¼ncellemeleri':
              isActive = settings.notifications?.teamUpdates || false;
              break;
            case 'Profil GÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼':
              isActive = settings.privacy?.profileVisible || false;
              break;
            case 'Ä°letiÅŸim Bilgileri':
              isActive = settings.privacy?.contactVisible || false;
              break;
          }
          
          if (isActive) {
            toggle.classList.add('active');
          } else {
            toggle.classList.remove('active');
          }
        });
      }

      // Toast gÃ¶sterme fonksiyonu
      function showToast(message, type = 'info') {
        // Basit toast implementasyonu
        const toast = document.createElement('div');
        toast.textContent = message;
        toast.style.cssText = `
          position: fixed;
          top: 20px;
          left: 50%;
          transform: translateX(-50%);
          background: ${type === 'info' ? '#10b981' : '#ef4444'};
          color: white;
          padding: 10px 20px;
          border-radius: 8px;
          z-index: 10000;
          max-width: 350px;
          text-align: center;
        `;
        document.body.appendChild(toast);
        
        setTimeout(() => {
          toast.remove();
        }, 3000);
      }
    </script>

    <!-- Data Management Script -->
    <script src="js/data.js"></script>
    </script>
  </body>
</html>
